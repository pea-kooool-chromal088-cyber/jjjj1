# Бот для регистрации на мероприятия

Telegram-бот для регистрации пользователей на различные мероприятия.

## Функциональность

- Регистрация пользователей с收集 следующих данных:
  - Полное имя
  - Email
  - Номер телефона
  - Дата рождения
- Просмотр личной информации
- Админ-панель для управления:
  - Просмотр статистики регистрации
  - Создание новых мероприятий (в разработке)

## Требования

- Python 3.8+
- Библиотеки:
  - python-telegram-bot
  - python-dotenv (для работы с переменными окружения)

## Установка

1. Установите зависимости:
```bash
pip install python-telegram-bot python-dotenv
```

2. Запустите бота:
```bash
python bot.py
```

## Структура проекта

- `bot.py` - основной файл бота
- `config.py` - конфигурация (токены, пути к БД)
- `constants.py` - текстовые константы и сообщения
- `database.py` - работа с базой данных
- `registration.py` - логика регистрации
- `registrations.db` - файл базы данных SQLite (создается автоматически)

## Запуск и тестирование

### Установка зависимостей
```bash
pip install -r requirements.txt
```

### Запуск бота
```bash
python bot.py
```

### Запуск тестов
```bash
python test_bot.py
```

## Использование

После запуска бота, пользователи могут использовать следующие команды:

- `/start` - начать взаимодействие с ботом
- `/register` - зарегистрироваться на мероприятие
- `/my_info` - посмотреть свою информацию
- `/help` - получить справку

Для администраторов доступны дополнительные команды:

- `/admin` - открыть админ-панель
- `/stats` - статистика регистрации
- `/new_event` - создать новое мероприятие

## Конфигурация

Для настройки администраторов добавьте в .env файл:

```
ADMIN_IDS=123456789
```

Где числа - это Telegram ID администраторов через запятую.

Чтобы узнать свой ID в Telegram, отправьте боту команду /start и посмотрите в консоли логи - ID будет указан там.

## Возможности администратора

Для пользователей, чьи ID указаны в переменной ADMIN_IDS, доступны следующие команды:

- `/admin` - открыть админ-панель
- `/stats` - посмотреть статистику регистрации
- `/new_event` - создать новое мероприятие (функция в разработке)
- `/events_list` - просмотреть список мероприятий (в разработке)

Администратор может просматривать статистику регистраций, создавать новые мероприятия и управлять списками участников.